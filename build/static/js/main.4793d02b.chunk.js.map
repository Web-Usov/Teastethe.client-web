{"version":3,"sources":["socket.js","components/login/index.js","components/login/login.jsx","redux-config/const/userConst.js","redux-config/const/teasConst.js","redux-config/actions/userActions.js","redux-config/actions/teasActions.js","components/teasList/teasList.jsx","components/teasList/index.js","components/teasAdd/index.js","components/teasAdd/teasAdd.jsx","components/App.js","redux-config/reducers/userReducer.js","redux-config/reducers/teasReducer.js","redux-config/reducers/index.js","index.js"],"names":["socket","io","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","loading","_this2","_this$props","user","login","on","data","setState","error","alert","name","e","preventDefault","refs","inputName","value","emit","_this3","react_default","a","createElement","action","onSubmit","handleSubmit","htmlFor","type","id","ref","disabled","Component","LOGIN","SET_SOCKET","SET_LIST","ADD_ITEM","setSocket","userConst","payload","setList","teasConst","addTea","tea","TeasList","teas","teasId","isYourTea","_this$props2","listId","map","teaId","i","key","JSON","stringify","list","components_teasAdd","teasList","connect","dispatch","bindActionCreators","teasActions","TeasAdd","inputNameTea","inputTypeTea","App","auth","className","components_teasList","components_login","userActions","defaultState","Math","random","combineReducers","arguments","length","undefined","assign","result","toConsumableArray","concat","store","createStore","Reducers","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","src_components_App","document","getElementById"],"mappings":"8mBAMeA,QAFAC,GAFH,8BCAGC,qBCCX,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACdE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAM,CACPC,SAAQ,GAHER,oFAME,IAAAS,EAAAN,KAAAO,EAEKP,KAAKJ,MAAnBY,EAFSD,EAETC,KAAKC,EAFIF,EAEJE,MACZD,EAAKf,OAAOiB,GAAG,QAAQ,SAACC,GAEpB,GADAL,EAAKM,SAAS,CAACP,SAAQ,IACpBM,EAAKE,MACJ,OAAOC,MAAMH,EAAKE,OAGtBJ,EAAM,CACFM,KAAKJ,EAAKI,8CAITC,GACTA,EAAEC,iBACFjB,KAAKY,SAAS,CAACP,SAAQ,IAFZ,IAGJG,EAAQR,KAAKJ,MAAbY,KACDO,EAAOf,KAAKkB,KAAKC,UAAUC,MACjCZ,EAAKf,OAAO4B,KAAK,QAAQN,oCAEpB,IAAAO,EAAAtB,KACL,OACIuB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAMC,OAAO,GAAGC,SAAU,SAACX,GAAD,OAAOM,EAAKM,aAAaZ,KAC/CO,EAAAC,EAAAC,cAAA,SAAOI,QAAQ,aAAf,SACAN,EAAAC,EAAAC,cAAA,SAAOK,KAAK,OAAOf,KAAK,GAAGgB,GAAG,YAAYC,IAAI,YAAYC,SAAUjC,KAAKI,MAAMC,UAC/EkB,EAAAC,EAAAC,cAAA,UAAQK,KAAK,SAASG,SAAUjC,KAAKI,MAAMC,SAA3C,iBAlCA6B,6BCFPC,EAAQ,QACRC,EAAa,aCDbC,EAAW,WACXC,EAAW,WCCXC,EAAY,SAAC9C,GAAD,MACrB,CACIqC,KAAKU,EAAUJ,WACfK,QAAQ,CACJhD,YAKCgB,EAAQ,SAACE,GAAD,MACjB,CACImB,KAAKU,EAAUL,MACfM,QAAQ9B,ICZH+B,EAAU,SAAC/B,GAAD,MACnB,CACImB,KAAKa,EAAUN,SACfI,QAAQ9B,IAGHiC,EAAS,SAACC,GAAD,MAClB,CACIf,KAAKa,EAAUL,SACfG,QAAQI,ICNVC,cACF,SAAAA,EAAYlD,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8C,IACdjD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgD,GAAA3C,KAAAH,KAAMJ,KACDQ,MAAM,GAFGP,oFAKE,IAAAU,EACcP,KAAKJ,MAA5BY,EADSD,EACTC,KAAKkC,EADInC,EACJmC,QAAQE,EADJrC,EACIqC,OACpBpC,EAAKf,OAAOiB,GAAG,aAAa,SAACC,GACzB+B,EAAQ,CACJK,KAAKpC,EAAKoC,KACVC,OAAOrC,EAAKqC,WAGpBxC,EAAKf,OAAOiB,GAAG,SAAS,SAACC,GAAS,IACvBE,EAAuBF,EAAvBE,MAAMgC,EAAiBlC,EAAjBkC,IACb,IAD8BlC,EAAbsC,UACH,CACV,GAAGpC,EACC,OAAOC,MAAMD,GAEjB+B,EAAOC,MAGfrC,EAAKf,OAAO4B,KAAK,+CAEZ,IAAA6B,EACsBlD,KAAKJ,MAAzBY,EADF0C,EACE1C,KAAKuC,EADPG,EACOH,KAAKH,EADZM,EACYN,OACjB,OACIrB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UACKsB,EAAKI,OAAOC,IAAI,SAACC,EAAMC,GAAP,OACjB/B,EAAAC,EAAAC,cAAA,MAAI8B,IAAKD,GACJE,KAAKC,UAAUV,EAAKW,KAAKL,QAIlC9B,EAAAC,EAAAC,cAACkC,EAAD,CAASf,OAAQA,EAAQpC,KAAMA,YApCxB0B,aCHR0B,ED6CAC,YACX,SAAAzD,GAAK,MAAK,CACN2C,KAAK3C,EAAM2C,OAEf,SAAAe,GAAQ,OAAIC,YAAmBC,EAAYF,IAJhCD,CAKbf,GEnDamB,cCCX,SAAAA,EAAYrE,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiE,IACdpE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmE,GAAA9D,KAAAH,KAAMJ,KACDQ,MAAM,CACPC,SAAQ,GAHER,oFAME,IAAAS,EAAAN,KAAAO,EAEMP,KAAKJ,MAApBY,EAFSD,EAETC,KAAKoC,EAFIrC,EAEJqC,OACZpC,EAAKf,OAAOiB,GAAG,SAAS,SAACC,GAAO,IACrBE,EAAuBF,EAAvBE,MAAMgC,EAAiBlC,EAAjBkC,IAAII,EAAatC,EAAbsC,UAEjB,GADA3C,EAAKM,SAAS,CAACP,SAAQ,IACpB4C,EAAU,CAET,GADA3C,EAAKM,SAAS,CAACP,SAAQ,IACpBQ,EACC,OAAOC,MAAMD,GAEjBC,MAAM,0BACN8B,EAAOC,2CAKN7B,GACTA,EAAEC,iBACFjB,KAAKY,SAAS,CAACP,SAAQ,IAFZ,IAGJG,EAAQR,KAAKJ,MAAbY,KACDO,EAAOf,KAAKkB,KAAKgD,aAAa9C,MAC9BU,EAAO9B,KAAKkB,KAAKiD,aAAa/C,MACpCZ,EAAKf,OAAO4B,KAAK,SAAS,CACtBN,OACAe,0CAGC,IAAAR,EAAAtB,KACL,OACIuB,EAAAC,EAAAC,cAAA,QAAME,SAAU,SAACX,GAAD,OAAOM,EAAKM,aAAaZ,KACrCO,EAAAC,EAAAC,cAAA,SAAOI,QAAQ,IAAf,QAEIN,EAAAC,EAAAC,cAAA,SAAOK,KAAK,OAAOG,SAAUjC,KAAKI,MAAMC,QAAS2B,IAAI,kBAEzDT,EAAAC,EAAAC,cAAA,SAAOI,QAAQ,IAAf,QAEIN,EAAAC,EAAAC,cAAA,SAAOK,KAAK,OAAOG,SAAUjC,KAAKI,MAAMC,QAAS2B,IAAI,kBAEzDT,EAAAC,EAAAC,cAAA,UAAQK,KAAK,SAASG,SAAUjC,KAAKI,MAAMC,SAA3C,eA9CM6B,aCQhBkC,cACJ,SAAAA,EAAYxE,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoE,IAChBvE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsE,GAAAjE,KAAAH,KAAMJ,KACDQ,MAAM,GAGXR,EAAM2C,UAAU9C,GALAI,wEAST,IAAAU,EAEcP,KAAKJ,MAAnBa,EAFAF,EAEAE,MAAMD,EAFND,EAEMC,KAEb,OAAGA,EAAK6D,KAGJ9C,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,OACb/C,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,sBAAcjB,EAAKO,KAAnB,MAEFQ,EAAAC,EAAAC,cAAC8C,EAAD,CAAU/D,KAAMA,KAOlBe,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,OACb/C,EAAAC,EAAAC,cAAC+C,EAAD,CAAO/D,MAAOA,EAAOD,KAAMA,YA7BnB0B,aAqCH2B,cACb,SAAAzD,GAAK,MAAK,CACRI,KAAKJ,EAAMI,OAEb,SAAAsD,GAAQ,OAAKC,YAAmBU,EAAYX,IAJ/BD,CAKbO,GCjDIM,EAAe,CACjB3C,GAAG4C,KAAKC,SACR7D,KAAK,GACLsD,MAAK,EACL5E,OAAO,cCJLiF,EAAe,CACjBhB,KAAK,GACLP,OAAO,ICAI0B,cAAgB,CAC3BrE,KFIW,WAAuC,IAAtCJ,EAAsC0E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BJ,EAAchD,EAAgBoD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC3C,OAAOpD,EAAOI,MACV,KAAKU,EAAUL,MAUX,OATerC,OAAOmF,OAClB,GACA7E,EACA,CACIW,KAAKW,EAAOe,QAAQ1B,KACpBsD,MAAK,IAMjB,KAAK7B,EAAUJ,WAQX,OAPgBtC,OAAOmF,OACnB7E,EACA,CACIX,OAAOiC,EAAOe,QAAQhD,SAMlC,QAAS,OAAOW,IE3BpB2C,KDCW,WAAsC,IAArC3C,EAAqC0E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BJ,EAAchD,EAAeoD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC1C,OAAOpD,EAAOI,MACV,KAAKa,EAAUN,SAKX,MAJe,CACXqB,KAAKhC,EAAOe,QAAQM,KACpBI,OAAOzB,EAAOe,QAAQO,QAI9B,KAAKL,EAAUL,SACX,IAAM4C,EAAS,CACXxB,KAAK5D,OAAOmF,OAAO,GAAG7E,EAAMsD,MAC5BP,OAAOrD,OAAAqF,EAAA,EAAArF,CAAIM,EAAM+C,QAAXiC,OAAA,CAAkB1D,EAAOe,QAAQV,MAG3C,OADAmD,EAAOxB,KAAKhC,EAAOe,QAAQV,IAAML,EAAOe,QACjCyC,EAEX,QAAS,OAAO9E,MEjBlBiF,EAAQC,YACVC,EACAC,OAAOC,8BAAgCD,OAAOC,gCAGlDC,IAASC,OACLpE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAUP,MAAOA,GACb9D,EAAAC,EAAAC,cAACoE,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.4793d02b.chunk.js","sourcesContent":["import  io from 'socket.io-client'\nconst port = \"3100\"\nconst uri = 'http://104.211.35.221:'+port\n// const uri = 'http://192.168.56.1:'+port\nconst socket = io(uri)\n\nexport default socket","import Login from './login'\n\nexport default Login","import React, { Component } from 'react';\n\nclass Login extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            loading:false\n        }\n    }\n    componentWillMount(){\n        \n        const {user,login} = this.props\n        user.socket.on('login',(data)=>{\n            this.setState({loading:false})\n            if(data.error){\n                return alert(data.error)                \n            }\n\n            login({\n                name:data.name\n            })     \n        })\n    }\n    handleSubmit(e){\n        e.preventDefault()\n        this.setState({loading:true})\n        const {user} = this.props\n        const name = this.refs.inputName.value\n        user.socket.emit('login',name)  \n    }\n    render() { \n        return ( \n            <div>\n                <form action=\"\" onSubmit={(e) => this.handleSubmit(e)}>\n                    <label htmlFor=\"inputName\">Name:</label>                    \n                    <input type=\"text\" name=\"\" id=\"inputName\" ref='inputName' disabled={this.state.loading}/>\n                    <button type=\"submit\" disabled={this.state.loading}>Send</button>\n                </form>\n            </div>\n         );\n    }\n}\n \nexport default Login;","export const LOGIN = 'login'\nexport const SET_SOCKET = 'set_socket'","export const SET_LIST = 'set_list'\nexport const ADD_ITEM = 'add_item'","import {userConst} from '../const'\n\nexport const setSocket = (socket) => (\n    {\n        type:userConst.SET_SOCKET,\n        payload:{\n            socket\n        }\n    }\n)\n\nexport const login = (data) => (\n    {\n        type:userConst.LOGIN,\n        payload:data\n    }\n)","import {teasConst} from '../const'\n\nexport const setList = (data) => (\n    {\n        type:teasConst.SET_LIST,\n        payload:data\n    }\n)\nexport const addTea = (tea) =>(\n    {\n        type:teasConst.ADD_ITEM,\n        payload:tea\n    }\n)","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { teasActions } from \"redux-config/actions\";\nimport {TeasAdd} from 'components'\nclass TeasList extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n        }\n    }\n    componentWillMount(){\n        const {user,setList,addTea} = this.props\n        user.socket.on('resAllTeas',(data) =>{\n            setList({\n                teas:data.teas,\n                teasId:data.teasId\n            })\n        })\n        user.socket.on('addTea',(data) => {\n            const {error,tea,isYourTea} = data\n            if(!isYourTea){\n                if(error){\n                    return alert(error)\n                }                \n                addTea(tea)\n            }\n        })\n        user.socket.emit('reqAllTeas')\n    }\n    render() { \n        const {user,teas,addTea} = this.props\n        return ( \n            <div>                       \n                <ul>\n                    {teas.listId.map((teaId,i) => (\n                    <li key={i}>\n                        {JSON.stringify(teas.list[teaId])}\n                    </li>\n                    ))}\n                </ul>\n                <TeasAdd addTea={addTea} user={user}/>\n            </div> \n         );\n    }\n}\n \nexport default connect(\n    state => ({\n        teas:state.teas,\n    }),\n    dispatch => bindActionCreators(teasActions,dispatch)\n)(TeasList);","import  teasList  from './teasList';\n\nexport default teasList","import TeasAdd from './teasAdd'\nexport default TeasAdd","import React, { Component } from 'react';\nclass TeasAdd extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            loading:false\n        }\n    }\n    componentWillMount(){\n        \n        const {user,addTea} = this.props\n        user.socket.on('addTea',(data)=>{\n            const {error,tea,isYourTea} = data\n            this.setState({loading:false})\n            if(isYourTea){\n                this.setState({loading:false})\n                if(error){\n                    return alert(error)                \n                }\n                alert(\"Tea successfully added\")\n                addTea(tea)\n            }              \n        })\n\n    }\n    handleSubmit(e){\n        e.preventDefault()\n        this.setState({loading:true})\n        const {user} = this.props\n        const name = this.refs.inputNameTea.value\n        const type = this.refs.inputTypeTea.value\n        user.socket.emit('addTea',{\n            name,\n            type\n        })  \n    }\n    render() { \n        return ( \n            <form onSubmit={(e) => this.handleSubmit(e)}>\n                <label htmlFor=\"\">\n                    Name:\n                    <input type=\"text\" disabled={this.state.loading} ref=\"inputNameTea\"/>\n                </label>\n                <label htmlFor=\"\">\n                    Type:\n                    <input type=\"text\" disabled={this.state.loading} ref=\"inputTypeTea\"/>\n                </label>\n                <button type=\"submit\" disabled={this.state.loading}>Add</button>\n            </form>\n         );\n    }\n}\n \nexport default TeasAdd;","import React, { Component } from 'react';\nimport socket from 'socket'\nimport './App.css';\nimport {TeasList, Login } from 'components'\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux'\nimport { userActions } from 'redux-config/actions'\n\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.state={\n      \n    }\n    props.setSocket(socket)\n    \n    \n  }\n  render() {\n    \n    const {login,user} = this.props\n    \n    if(user.auth){\n\n      return (\n        <div className=\"App\">\n          <header>\n            <h1>Welcome, {user.name}!</h1>\n          </header>   \n          <TeasList user={user}/>\n        </div>\n      )\n\n    }else{\n\n      return (\n        <div className=\"App\">       \n          <Login login={login} user={user}/>\n        </div>        \n      )\n\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    user:state.user\n  }),\n  dispatch => (bindActionCreators(userActions,dispatch))\n)(App);\n","import {userConst} from '../const/'\n\nconst defaultState = {\n    id:Math.random(),\n    name:'',\n    auth:false,\n    socket:null\n}\n\nexport default (state = defaultState, action = {}) => {\n    switch(action.type){\n        case userConst.LOGIN:{\n            const result = Object.assign(\n                {},\n                state,\n                {\n                    name:action.payload.name,\n                    auth:true\n                }\n            )\n            // console.log(result)    \n            return result\n        }\n        case userConst.SET_SOCKET:{\n            const result =  Object.assign(\n                state,\n                {\n                    socket:action.payload.socket,\n                }\n            )\n            // console.log(result)                \n            return result               \n        }\n        default: return state\n    }\n}","import {teasConst} from '../const'\n\nconst defaultState = {\n    list:{},\n    listId:[]\n}\n\nexport default (state = defaultState, action ={}) => {\n    switch(action.type){\n        case teasConst.SET_LIST:{\n            const result = {\n                list:action.payload.teas,\n                listId:action.payload.teasId\n            }        \n            return result\n        }\n        case teasConst.ADD_ITEM:{\n            const result = {\n                list:Object.assign({},state.list),\n                listId:[...state.listId,action.payload.id]\n            }\n            result.list[action.payload.id] = action.payload\n            return result\n        }\n        default: return state\n    }\n}","import userReducer from './userReducer'\nimport teasReducers from './teasReducer'\nimport {combineReducers} from 'redux'\n\nexport default combineReducers({\n    user:userReducer,\n    teas:teasReducers\n})","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from 'components/App'\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { Reducers } from \"redux-config\";\n\nconst store = createStore(\n    Reducers,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'))\n"],"sourceRoot":""}